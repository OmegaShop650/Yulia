<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–Æ–ª—ñ—è - –†—É—á–Ω—ñ –≤–∏—Ä–æ–±–∏</title>
  <!-- Tailwind CSS —á–µ—Ä–µ–∑ CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- –®—Ä–∏—Ñ—Ç–∏ -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* --- –ó–±–µ—Ä–µ–∂–µ–Ω–æ —Ä–µ—Ç—Ä–æ-—Å—Ç–∏–ª—å + –¥—Ä—ñ–±–Ω—ñ –ø—Ä–∞–≤–∫–∏ --- */
    body {
      font-family: 'Open Sans', sans-serif;
      background-image: url('https://www.transparenttextures.com/patterns/crissXcross.png'), 
                        url('https://www.transparenttextures.com/patterns/old-wall.png');
      background-color: #fdf6ec;
      background-attachment: fixed;
      background-blend-mode: overlay;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Playfair Display', serif;
    }
    .section {
      padding: 60px 0;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .btn {
      transition: all 0.3s ease;
    }
    .btn:hover { transform: scale(1.06); }
    .product-card {
      transition: all 0.4s ease;
      box-shadow: 0 4px 8px rgba(0,0,0,0.08);
      border: 1px solid #fbbf2430;
      background: linear-gradient(180deg,#fffaf1,#fff5e6);
    }
    .product-card:hover {
      transform: translateY(-6px) rotate(0.6deg);
      box-shadow: 0 12px 20px rgba(251, 191, 36, 0.18);
    }
    nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: linear-gradient(to bottom, rgba(254, 245, 233, 0.98), rgba(254, 245, 233, 0.95));
      backdrop-filter: blur(4px);
      border-bottom: 4px solid rgba(245,158,11,0.08);
    }
    .admin-btns {
      display: none;
      margin-top: 8px;
      gap: 6px;
      flex-wrap: wrap;
    }
    .admin-btns button {
      font-size: 0.8rem;
      padding: 4px 8px;
      min-width: 70px;
    }
    @keyframes fadeRotate {
      0% { opacity: 1; transform: rotate(0deg); }
      50% { opacity: 0.5; transform: rotate(3deg); }
      100% { opacity: 1; transform: rotate(0deg); }
    }
    .lang-btn { transition: all 0.4s ease; }
    .lang-btn.animating { animation: fadeRotate 0.4s ease; }
    footer { margin-top: auto; }
    .admin-panel {
      background: linear-gradient(135deg, #fbbf24, #f97316);
      border: 2px dashed #c2410c;
      border-radius: 12px;
      padding: 16px;
      margin: 20px auto;
      max-width: 600px;
      box-shadow: 0 8px 15px rgba(249, 115, 22, 0.18);
    }
    .form-input { background: #fff9ed; border: 1px solid #f59e0b; border-radius: 6px; }
    .form-input:focus { outline: none; border-color: #d97706; box-shadow: 0 0 0 3px rgba(251,191,36,0.18); }
    .product-description { font-size: 0.875rem; color: #99703d; margin-top: 4px; }
    .img-preview { width: 80px; height: 80px; object-fit: cover; border: 2px solid #fbbf24; border-radius: 8px; margin: 4px 0; }
    .file-label { background: #fef3c7; border: 1px dashed #f59e0b; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 0.8rem; text-align: center; }
    /* edit badge */
    .editable-badge {
      display:inline-block;
      margin-left:8px;
      font-size:12px;
      padding:2px 6px;
      border-radius:6px;
      background:#fff7cc;
      border:1px solid #f1c453;
      color:#7a4b00;
      cursor:pointer;
      vertical-align:middle;
    }
    /* small responsive */
    @media (max-width: 640px) {
      .img-preview{width:64px;height:64px;}
    }
  </style>
</head>
<body class="bg-white text-gray-800" id="page">
  <!-- NAV -->
  <nav class="bg-amber-50 border-b-4 border-amber-200 shadow-lg">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-2">
          <div class="w-10 h-10 bg-amber-400 rounded-full flex items-center justify-center border-4 border-amber-100">
            <span class="text-amber-900 font-bold text-lg">–®</span>
          </div>
          <span id="siteName" class="text-amber-900 font-bold text-xl">–†–µ—Ç—Ä–æ–®–≤–µ–π–∫–∞</span>
        </div>
        <div class="flex space-x-8 items-center">
          <div class="hidden md:flex space-x-8">
            <a href="#home" class="nav-link text-amber-600 hover:text-amber-700 font-medium" data-key="nav.home">–ì–æ–ª–æ–≤–Ω–∞</a>
            <a href="#products" class="nav-link text-amber-600 hover:text-amber-700 font-medium" data-key="nav.products">–¢–æ–≤–∞—Ä–∏</a>
            <a href="#about" class="nav-link text-amber-600 hover:text-amber-700 font-medium" data-key="nav.about">–ü—Ä–æ –º–µ–Ω–µ</a>
            <a href="#contact" class="nav-link text-amber-600 hover:text-amber-700 font-medium" data-key="nav.contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
          </div>
          <!-- Language toggle -->
          <button id="langToggle" class="bg-amber-200 hover:bg-amber-300 text-amber-800 font-semibold px-4 py-2 rounded-lg text-sm transition lang-btn">
            EN
          </button>
        </div>
        <button id="menuBtn" class="md:hidden text-amber-700 focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
      <div id="mobileMenu" class="md:hidden bg-amber-50 border-t-2 border-amber-200 hidden">
        <a href="#home" class="block px-4 py-3 text-amber-700" data-key="nav.home">–ì–æ–ª–æ–≤–Ω–∞</a>
        <a href="#products" class="block px-4 py-3 text-amber-700" data-key="nav.products">–¢–æ–≤–∞—Ä–∏</a>
        <a href="#about" class="block px-4 py-3 text-amber-700" data-key="nav.about">–ü—Ä–æ –º–µ–Ω–µ</a>
        <a href="#contact" class="block px-4 py-3 text-amber-700" data-key="nav.contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
      </div>
    </div>
  </nav>
  <!-- HOME -->
  <section id="home" class="bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 flex items-center section">
    <div class="max-w-6xl mx-auto px-4">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="space-y-6">
          <h1 class="text-4xl lg:text-5xl font-bold text-amber-900 leading-tight">
            <span data-key="home.title.line1">–†–µ—Ç—Ä–æ —à–≤–µ–π–Ω—ñ –≤–∏—Ä–æ–±–∏</span>
            <span class="block text-amber-700" data-key="home.title.line2">–∑ –¥—É—à–µ—é</span>
          </h1>
          <p class="text-lg text-amber-800 leading-relaxed" data-key="home.desc">
            –£ –Ω–∞—à—ñ–π –∫–æ–ª–µ–∫—Ü—ñ—ó –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ —Å—Ç–∏–ª—å–Ω—ñ, –∑—Ä—É—á–Ω—ñ —Ç–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –≤–∏—Ä–æ–±–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑ –ª—é–±–æ–≤‚Äô—é —Ç–∞ —É–≤–∞–≥–æ—é –¥–æ –¥–µ—Ç–∞–ª–µ–π.
          </p>
          <div class="flex flex-wrap gap-3">
            <a href="#products" class="btn bg-amber-600 hover:bg-amber-700 text-white font-semibold px-6 py-3 rounded-lg shadow-lg inline-block text-sm" data-key="home.cta.view">
              –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ç–æ–≤–∞—Ä–∏
            </a>
            <a href="#contact" class="btn border-2 border-amber-600 text-amber-700 hover:bg-amber-100 font-semibold px-6 py-3 rounded-lg inline-block text-sm" data-key="home.cta.contact">
              –ö–æ–Ω—Ç–∞–∫—Ç–∏
            </a>
          </div>
          <div class="grid grid-cols-3 gap-4 pt-6">
            <div class="text-center">
              <div class="text-2xl font-bold text-amber-700">12</div>
              <div class="text-amber-600 text-xs" data-key="home.stats.years">–†–æ–∫—ñ–≤ –¥–æ—Å–≤—ñ–¥—É</div>
            </div>
            <div class="text-center">
              <div class="text-2xl font-bold text-amber-700">100+</div>
              <div class="text-amber-600 text-xs" data-key="home.stats.clients">–©–∞—Å–ª–∏–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤</div>
            </div>
            <div class="text-center">
              <div class="text-2xl font-bold text-amber-700">500+</div>
              <div class="text-amber-600 text-xs" data-key="home.stats.items">–í–∏—Ä–æ–±—ñ–≤ —Å—Ç–≤–æ—Ä–µ–Ω–æ</div>
            </div>
          </div>
        </div>
        <div class="relative mt-8 lg:mt-0">
          <div class="bg-amber-200 p-4 rounded-xl shadow-md border-2 border-amber-300">
            <img id="heroImage"
              src="https://placehold.co/400x500/fbbf24/ffffff?text=%D0%AE%D0%BB%D1%96%D1%8F"
              alt="–†—É—á–Ω—ñ –≤–∏—Ä–æ–±–∏"
              class="w-full h-auto rounded-lg shadow"
            />
          </div>
          <div class="absolute -top-3 -right-3 bg-white p-3 rounded-lg shadow-md border-2 border-amber-200">
            <div class="text-amber-700 font-bold text-sm" data-key="home.badge.handmade">–ó—Ä–æ–±–ª–µ–Ω–æ –≤—Ä—É—á–Ω—É</div>
            <div class="text-amber-600 text-xs" data-key="home.badge.quality">–Ø–∫—ñ—Å—Ç—å —Ç–∞ –ª—é–±–æ–≤</div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- PRODUCTS -->
  <section id="products" class="bg-white section">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-4">
        <h2 class="text-3xl font-bold text-amber-900 mb-3" data-key="products.title">–ù–∞—à—ñ –≤–∏—Ä–æ–±–∏</h2>
        <p class="text-lg text-amber-700 max-w-2xl mx-auto" data-key="products.desc">
          –£–Ω—ñ–∫–∞–ª—å–Ω—ñ —Ä–µ—Ç—Ä–æ –≤–∏—Ä–æ–±–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑ —è–∫—ñ—Å–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤. –ö–æ–∂–µ–Ω –≤–∏—Ä—ñ–± ‚Äî —Ü–µ –º—ñ–Ω—ñ–∞—Ç—é—Ä–Ω–µ –º–∏—Å—Ç–µ—Ü—Ç–≤–æ.
        </p>
      </div>
      <!-- Admin add form (hidden until admin login) -->
      <div id="addProductForm" class="admin-panel" style="display: none;">
        <h3 class="font-bold text-amber-900 mb-4" data-key="admin.add.title">‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä</h3>
        <form onsubmit="submitNewProduct(event)" class="space-y-3">
          <input type="text" id="prodNameUa" placeholder="–ù–∞–∑–≤–∞ (UA)" required class="form-input w-full px-3 py-2">
          <input type="text" id="prodNameEn" placeholder="Name (EN)" required class="form-input w-full px-3 py-2">
          <input type="number" id="prodPrice" placeholder="–¶—ñ–Ω–∞ (‚Ç¥)" required class="form-input w-full px-3 py-2">
          <textarea id="prodDescUa" placeholder="–û–ø–∏—Å (UA)" rows="2" required class="form-input w-full px-3 py-2"></textarea>
          <textarea id="prodDescEn" placeholder="Description (EN)" rows="2" required class="form-input w-full px-3 py-2"></textarea>
          <div>
            <label class="file-label">üì∑ –í–∏–±—Ä–∞—Ç–∏ —Ñ–æ—Ç–æ
              <input type="file" id="prodImage" accept="image/*" onchange="previewImage(event)" class="hidden">
            </label>
            <br>
            <img id="imagePreview" class="img-preview mt-2" style="display: none;" alt="preview">
          </div>
          <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded" data-key="admin.add.button">–î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä</button>
        </form>
      </div>
      <div id="productsContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
        <!-- products will be rendered here -->
      </div>
      <div class="text-center mt-6">
        <button id="viewCollectionBtn" class="bg-amber-100 hover:bg-amber-200 text-amber-800 border-2 border-amber-300 font-semibold px-6 py-2 rounded-lg transition-all duration-200 text-sm" data-key="products.viewAll">
          –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—é –∫–æ–ª–µ–∫—Ü—ñ—é
        </button>
      </div>
    </div>
  </section>
  <!-- ABOUT -->
  <section id="about" class="bg-gradient-to-br from-amber-50 to-orange-50 section">
    <div class="max-w-6xl mx-auto px-4">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <img
            src="https://placehold.co/500x600/f87171/ffffff?text=%D0%AF+%D0%AE%D0%BB%D1%96%D1%8F"
            alt="–ú–∞–π—Å—Ç—Ä–∏–Ω—è"
            class="w-full h-auto rounded-2xl shadow-2xl"
          />
        </div>
        <div class="space-y-6">
          <h2 class="text-4xl font-bold text-amber-900" data-key="about.title">–ü—Ä–æ –º–µ–Ω–µ</h2>
          <p class="text-lg text-amber-800 leading-relaxed" data-key="about.p1">
            –ú–µ–Ω–µ –∑–≤–∞—Ç–∏ –û–ª–µ–Ω–∞ (–Æ–ª—ñ—è), —ñ —è –∑–∞–π–º–∞—é—Å—è —à–≤–µ–π–Ω–æ—é —Å–ø—Ä–∞–≤–æ—é –≤–∂–µ 12 —Ä–æ–∫—ñ–≤. –ú–æ—î –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è —Ä–µ—Ç—Ä–æ —Å—Ç–∏–ª–µ–º –ø–æ—á–∞–ª–æ—Å—è –∑—ñ —Å–ø–∞–¥—â–∏–Ω–∏ –º–æ—î—ó –±–∞–±—É—Å—ñ ‚Äî —Å—Ç–∞—Ä–æ–≤–∏–Ω–Ω–æ—ó —à–≤–µ–π–Ω–æ—ó –º–∞—à–∏–Ω–∫–∏ —ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –≤–∏—à–∏—Ç–∏—Ö —Å–µ—Ä–≤–µ—Ç–æ–∫.
          </p>
          <p class="text-lg text-amber-800 leading-relaxed" data-key="about.p2">
            –ö–æ–∂–µ–Ω –≤–∏—Ä—ñ–±, —è–∫–∏–π —è —Å—Ç–≤–æ—Ä—é—é, ‚Äî —Ü–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∞ —Ä—ñ—á, –∑—Ä–æ–±–ª–µ–Ω–∞ –≤—Ä—É—á–Ω—É –∑ –ª—é–±–æ–≤'—é –¥–æ –¥–µ—Ç–∞–ª–µ–π. –Ø –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é —è–∫—ñ—Å–Ω—ñ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —Ç–∫–∞–Ω–∏–Ω–∏, —Å—Ç–∞—Ä–æ–≤–∏–Ω–Ω—ñ –≤–∏—à–∏–≤–∫–∏ —Ç–∞ –∫–ª–∞—Å–∏—á–Ω—ñ —Ñ–∞—Å–æ–Ω–∏, —è–∫—ñ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏—Ö–æ–¥—è—Ç—å –∑ –º–æ–¥–∏.
          </p>
          <p class="text-lg text-amber-800 leading-relaxed" data-key="about.p3">
            –ú–æ—è –º—Ä—ñ—è ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –¥–æ –∂–∏—Ç—Ç—è –∫—Ä–∞—Å—É —Ä–µ—Ç—Ä–æ —Å—Ç–∏–ª—é —ñ –ø–æ–¥–∞—Ä—É–≤–∞—Ç–∏ –ª—é–¥—è–º —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —Ä–µ—á—ñ, —è–∫—ñ –±—É–¥—É—Ç—å —Ä–∞–¥—É–≤–∞—Ç–∏ —Ä–æ–∫–∞–º–∏.
          </p>
          <div class="grid grid-cols-2 gap-6 pt-6">
            <div class="bg-white p-4 rounded-lg shadow-md">
              <div class="text-2xl font-bold text-amber-700">12</div>
              <div class="text-amber-600 text-sm" data-key="about.stats.years">–†–æ–∫—ñ–≤ –¥–æ—Å–≤—ñ–¥—É</div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow-md">
              <div class="text-2xl font-bold text-amber-700">100%</div>
              <div class="text-amber-600 text-sm" data-key="about.stats.handmade">–†—É—á–Ω–∞ —Ä–æ–±–æ—Ç–∞</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- CONTACT -->
  <section id="contact" class="bg-white section">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold text-amber-900 mb-4" data-key="contact.title">–ö–æ–Ω—Ç–∞–∫—Ç–∏</h2>
        <p class="text-xl text-amber-700" data-key="contact.desc">
          –ì–æ—Ç–æ–≤—ñ –∑–∞–º–æ–≤–∏—Ç–∏ –≤–∏—Ä—ñ–± –∞–±–æ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ? –ó–≤'—è–∂—ñ—Ç—å—Å—è –∑—ñ –º–Ω–æ—é!
        </p>
      </div>
      <div class="grid lg:grid-cols-2 gap-12 items-start">
        <div class="space-y-8">
          <div class="bg-amber-50 p-8 rounded-2xl shadow-lg">
            <h3 class="text-2xl font-bold text-amber-900 mb-6" data-key="contact.infoTitle">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h3>
            <div class="space-y-4">
              <div class="flex items-center space-x-4">
                <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center">
                  <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.01 4.583c.143.05.26.14.33.26.07.12.1.26.09.4v8.44c0 .14-.04.27-.1.38-.06.11-.16.2-.28.26l-5.04 2.5c-.11.06-.24.09-.37.09-.13 0-.26-.03-.37-.09l-2.72-1.35-1.13 1.04c-.08.08-.18.13-.29.15-.11.02-.22.01-.32-.03l-3.14-1.4c-.1-.05-.18-.13-.23-.23-.05-.1-.07-.21-.06-.32l1.88-8.28c.02-.1.07-.19.14-.27.07-.08.16-.13.27-.15l9.46-1.53c.13-.02.26.02.37.1.11.08.18.2.21.34z"/>
                  </svg>
                </div>
                <div>
                  <div class="font-semibold text-amber-900" data-key="contact.telegram">Telegram</div>
                  <a id="telegramLink" href="https://t.me/Ennifer86" target="_blank" class="text-blue-600 hover:underline">@Ennifer86</a>
                </div>
              </div>
            </div>
          </div>
          <div class="bg-gradient-to-r from-amber-100 to-orange-100 p-6 rounded-xl">
            <h4 class="font-bold text-amber-900 mb-2" data-key="contact.hoursTitle">–ì—Ä–∞—Ñ—ñ–∫ —Ä–æ–±–æ—Ç–∏</h4>
            <div class="text-amber-800 space-y-1">
              <div data-key="contact.hours.weekdays">–ü–æ–Ω–µ–¥—ñ–ª–æ–∫ - –ü'—è—Ç–Ω–∏—Ü—è: 9:00 - 18:00</div>
              <div data-key="contact.hours.sat">–°—É–±–æ—Ç–∞: 10:00 - 16:00</div>
              <div data-key="contact.hours.sun">–ù–µ–¥—ñ–ª—è: –í–∏—Ö—ñ–¥–Ω–∏–π</div>
            </div>
          </div>
        </div>
        <div class="flex justify-center">
          <img id="contactImage"
            src="https://placehold.co/400x500/f87171/ffffff?text=%D0%AE%D0%BB%D1%96%D1%8F"
            alt="–†–µ—Ç—Ä–æ —à–≤–µ–π–∫–∞"
            class="rounded-xl shadow-lg max-w-full h-auto">
        </div>
      </div>
    </div>
  </section>
  <!-- FOOTER -->
  <footer class="bg-amber-900 text-amber-100 py-6">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center">
        <p id="footerText" class="text-amber-300 text-sm mb-2" data-key="footer.text">
          ¬© 2024 –†–µ—Ç—Ä–æ–®–≤–µ–π–∫–∞. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ. –°—Ç–≤–æ—Ä–µ–Ω–æ –∑ –ª—é–±–æ–≤'—é.
        </p>
        <button type="button" id="adminBtn" class="inline-block bg-transparent hover:bg-amber-500 text-amber-500 font-bold text-sm px-4 py-2 rounded-lg shadow transition max-w-xs mx-auto">
          üîê –ê–¥–º—ñ–Ω
        </button>
      </div>
    </div>
  </footer>
  <!-- JAVASCRIPT -->
  <script>
    /* ===== STATE ===== */
    const STORAGE_KEYS = {
      PRODUCTS: 'rsv_products_v1',
      LANG: 'rsv_lang_v1',
    };
    let products = []; // will be objects { id, name: {ua,en}, desc:{ua,en}, price, img } 
    let isAdmin = false;
    let currentLang = localStorage.getItem(STORAGE_KEYS.LANG) || 'ua';
    /* ===== DEFAULTS (used if no saved products) ===== */
    const defaultProducts = [
      {
        id: genId(),
        name: { ua: '–í–∏—à–∏—Ç–∏–π –∂–∏–ª–µ—Ç', en: 'Embroidered Vest' },
        desc: { ua: '–ö–ª–∞—Å–∏—á–Ω–∏–π –≤–∏—à–∏—Ç–∏–π –∂–∏–ª–µ—Ç —É —Å—Ç–∏–ª—ñ 50-—Ö', en: 'Classic embroidered vest, 50s style' },
        price: '480',
        img: 'https://placehold.co/250x250/f87171/ffffff?text=%D0%92%D0%B8%D1%88%D0%B8%D1%82%D0%B8%D0%B9+%D0%B6%D0%B8%D0%BB%D0%B5%D1%82'
      },
      {
        id: genId(),
        name: { ua: '–õ–ª—è–Ω–∞ —Å—É–∫–Ω—è', en: 'Linen Dress' },
        desc: { ua: '–ï–ª–µ–≥–∞–Ω—Ç–Ω–∞ —Å—É–∫–Ω—è –∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ—ó –ª–ª—è–Ω–æ—ó —Ç–∫–∞–Ω–∏–Ω–∏', en: 'Elegant dress made from natural linen' },
        price: '620',
        img: 'https://placehold.co/250x250/34d399/ffffff?text=%D0%9B%D0%BB%D1%8F%D0%BD%D0%B0+%D1%81%D1%83%D0%BA%D0%BD%D1%8F'
      }
    ];
    /* ===== TRANSLATIONS for static keys (fallbacks) ===== */
    const staticTranslations = {
      'nav.home': { ua: '–ì–æ–ª–æ–≤–Ω–∞', en: 'Home' },
      'nav.products': { ua: '–¢–æ–≤–∞—Ä–∏', en: 'Products' },
      'nav.about': { ua: '–ü—Ä–æ –º–µ–Ω–µ', en: 'About' },
      'nav.contact': { ua: '–ö–æ–Ω—Ç–∞–∫—Ç–∏', en: 'Contact' },
      'home.title.line1': { ua: '–†–µ—Ç—Ä–æ —à–≤–µ–π–Ω—ñ –≤–∏—Ä–æ–±–∏', en: 'Retro sewing crafts' },
      'home.title.line2': { ua: '–∑ –¥—É—à–µ—é', en: 'with soul' },
      'home.desc': { ua: '–£ –Ω–∞—à—ñ–π –∫–æ–ª–µ–∫—Ü—ñ—ó –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ —Å—Ç–∏–ª—å–Ω—ñ, –∑—Ä—É—á–Ω—ñ —Ç–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –≤–∏—Ä–æ–±–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑ –ª—é–±–æ–≤‚Äô—é —Ç–∞ —É–≤–∞–≥–æ—é –¥–æ –¥–µ—Ç–∞–ª–µ–π.', en: 'In our collection you will find stylish, comfortable and unique items, created with love and attention to detail.' },
      'home.cta.view': { ua: '–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ç–æ–≤–∞—Ä–∏', en: 'View products' },
      'home.cta.contact': { ua: '–ö–æ–Ω—Ç–∞–∫—Ç–∏', en: 'Contact' },
      'home.badge.handmade': { ua: '–ó—Ä–æ–±–ª–µ–Ω–æ –≤—Ä—É—á–Ω—É', en: 'Handmade' },
      'home.badge.quality': { ua: '–Ø–∫—ñ—Å—Ç—å —Ç–∞ –ª—é–±–æ–≤', en: 'Quality & care' },
      'home.stats.years': { ua: "–†–æ–∫—ñ–≤ –¥–æ—Å–≤—ñ–¥—É", en: "Years of experience" },
      'home.stats.clients': { ua: "–©–∞—Å–ª–∏–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤", en: "Happy customers" },
      'home.stats.items': { ua: "–í–∏—Ä–æ–±—ñ–≤ —Å—Ç–≤–æ—Ä–µ–Ω–æ", en: "Items crafted" },
      'products.title': { ua: '–ù–∞—à—ñ –≤–∏—Ä–æ–±–∏', en: 'Our products' },
      'products.desc': { ua: '–£–Ω—ñ–∫–∞–ª—å–Ω—ñ —Ä–µ—Ç—Ä–æ –≤–∏—Ä–æ–±–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑ —è–∫—ñ—Å–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤. –ö–æ–∂–µ–Ω –≤–∏—Ä—ñ–± ‚Äî —Ü–µ –º—ñ–Ω—ñ–∞—Ç—é—Ä–Ω–µ –º–∏—Å—Ç–µ—Ü—Ç–≤–æ.', en: 'Unique retro items made from quality materials. Each piece is miniature art.' },
      'products.viewAll': { ua: '–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—é –∫–æ–ª–µ–∫—Ü—ñ—é', en: 'View full collection' },
      'admin.add.title': { ua: '‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä', en: '‚ûï Add new product' },
      'admin.add.button': { ua: '–î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä', en: 'Add product' },
      'about.title': { ua: '–ü—Ä–æ –º–µ–Ω–µ', en: 'About me' },
      'about.p1': { ua: '–ú–µ–Ω–µ –∑–≤–∞—Ç–∏ –û–ª–µ–Ω–∞ (–Æ–ª—ñ—è), —ñ —è –∑–∞–π–º–∞—é—Å—è —à–≤–µ–π–Ω–æ—é —Å–ø—Ä–∞–≤–æ—é –≤–∂–µ 12 —Ä–æ–∫—ñ–≤. –ú–æ—î –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è —Ä–µ—Ç—Ä–æ —Å—Ç–∏–ª–µ–º –ø–æ—á–∞–ª–æ—Å—è –∑—ñ —Å–ø–∞–¥—â–∏–Ω–∏ –º–æ—î—ó –±–∞–±—É—Å—ñ ‚Äî —Å—Ç–∞—Ä–æ–≤–∏–Ω–Ω–æ—ó —à–≤–µ–π–Ω–æ—ó –º–∞—à–∏–Ω–∫–∏ —ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –≤–∏—à–∏—Ç–∏—Ö —Å–µ—Ä–≤–µ—Ç–æ–∫.', en: 'My name is Olena (Yulia), I have been sewing for 12 years. My passion for retro style began with my grandmother‚Äôs old sewing machine and embroidered linens.' },
      'about.p2': { ua: '–ö–æ–∂–µ–Ω –≤–∏—Ä—ñ–±, —è–∫–∏–π —è —Å—Ç–≤–æ—Ä—é—é, ‚Äî —Ü–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∞ —Ä—ñ—á, –∑—Ä–æ–±–ª–µ–Ω–∞ –≤—Ä—É—á–Ω—É –∑ –ª—é–±–æ–≤\'—é –¥–æ –¥–µ—Ç–∞–ª–µ–π. –Ø –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é —è–∫—ñ—Å–Ω—ñ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —Ç–∫–∞–Ω–∏–Ω–∏, —Å—Ç–∞—Ä–æ–≤–∏–Ω–Ω—ñ –≤–∏—à–∏–≤–∫–∏ —Ç–∞ –∫–ª–∞—Å–∏—á–Ω—ñ —Ñ–∞—Å–æ–Ω–∏, —è–∫—ñ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏—Ö–æ–¥—è—Ç—å –∑ –º–æ–¥–∏.', en: 'Every item I create is unique, handmade with love and attention to detail. I use quality natural fabrics, vintage embroidery and classic cuts.' },
      'about.p3': { ua: '–ú–æ—è –º—Ä—ñ—è ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –¥–æ –∂–∏—Ç—Ç—è –∫—Ä–∞—Å—É —Ä–µ—Ç—Ä–æ —Å—Ç–∏–ª—é —ñ –ø–æ–¥–∞—Ä—É–≤–∞—Ç–∏ –ª—é–¥—è–º —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —Ä–µ—á—ñ, —è–∫—ñ –±—É–¥—É—Ç—å —Ä–∞–¥—É–≤–∞—Ç–∏ —Ä–æ–∫–∞–º–∏.', en: 'My dream is to bring retro beauty back to life and give people unique things that will delight for years.' },
      'about.stats.years': { ua: '–†–æ–∫—ñ–≤ –¥–æ—Å–≤—ñ–¥—É', en: 'Years experience' },
      'about.stats.handmade': { ua: '–†—É—á–Ω–∞ —Ä–æ–±–æ—Ç–∞', en: 'Handmade' },
      'contact.title': { ua: '–ö–æ–Ω—Ç–∞–∫—Ç–∏', en: 'Contact' },
      'contact.desc': { ua: '–ì–æ—Ç–æ–≤—ñ –∑–∞–º–æ–≤–∏—Ç–∏ –≤–∏—Ä—ñ–± –∞–±–æ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ? –ó–≤\'—è–∂—ñ—Ç—å—Å—è –∑—ñ –º–Ω–æ—é!', en: 'Ready to order or want to know more? Contact me!' },
      'contact.infoTitle': { ua: '–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è', en: 'Contact info' },
      'contact.telegram': { ua: 'Telegram', en: 'Telegram' },
      'contact.hoursTitle': { ua: '–ì—Ä–∞—Ñ—ñ–∫ —Ä–æ–±–æ—Ç–∏', en: 'Working hours' },
      'contact.hours.weekdays': { ua: "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫ - –ü'—è—Ç–Ω–∏—Ü—è: 9:00 - 18:00", en: 'Mon - Fri: 9:00 - 18:00' },
      'contact.hours.sat': { ua: '–°—É–±–æ—Ç–∞: 10:00 - 16:00', en: 'Saturday: 10:00 - 16:00' },
      'contact.hours.sun': { ua: '–ù–µ–¥—ñ–ª—è: –í–∏—Ö—ñ–¥–Ω–∏–π', en: 'Sunday: Closed' },
      'footer.text': { ua: '¬© 2024 –Æ–ª—ñ—è. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ. –°—Ç–≤–æ—Ä–µ–Ω–æ –∑ –ª—é–±–æ–≤\'—é.', en: '¬© 2024 Yulia. All rights reserved. Made with love.' }
    };
    /* ===== UTIL ===== */
    function genId() {
      return 'p_' + Math.random().toString(36).slice(2,9);
    }
    function saveProducts() {
      localStorage.setItem(STORAGE_KEYS.PRODUCTS, JSON.stringify(products));
    }
    function loadProducts() {
      const raw = localStorage.getItem(STORAGE_KEYS.PRODUCTS);
      if (raw) {
        try {
          products = JSON.parse(raw);
        } catch (e) {
          products = defaultProducts;
        }
      } else {
        products = defaultProducts.map(p => ({ ...p })); // copy
      }
    }
    /* ===== RENDER STATIC TEXTS ===== */
    function translateStatic() {
      // Elements with data-key attribute will be replaced
      document.querySelectorAll('[data-key]').forEach(el => {
        const key = el.getAttribute('data-key');
        const dict = staticTranslations[key];
        if (dict) {
          el.textContent = dict[currentLang] || el.textContent;
        }
      });
      // site name separately
      document.getElementById('siteName').textContent = currentLang === 'ua' ? '–Æ–ª—ñ—è' : 'Yulia';
      // set langToggle text
      document.getElementById('langToggle').textContent = currentLang === 'ua' ? 'EN' : 'UA';
    }
    /* ===== PRODUCTS RENDER ===== */
    function renderProducts() {
      const container = document.getElementById('productsContainer');
      container.innerHTML = '';
      products.forEach(prod => {
        const card = document.createElement('div');
        card.className = 'product-card bg-amber-50 rounded-lg overflow-hidden shadow hover:shadow-md transition-all';
        card.dataset.id = prod.id;
        const imgHtml = `<img src="${prod.img}" alt="${(prod.name && (prod.name.ua || prod.name.en)) || ''}" class="w-full h-40 object-cover">`;
        const name = prod.name[currentLang] || prod.name.ua || prod.name.en || '';
        const desc = prod.desc ? (prod.desc[currentLang] || prod.desc.ua || prod.desc.en || '') : '';
        const price = prod.price ? `${prod.price} ‚Ç¥` : '';
        card.innerHTML = `
          ${imgHtml}
          <div class="p-3">
            <h3 class="text-lg font-bold text-amber-900 product-name">${escapeHtml(name)}</h3>
            <div class="product-description">${escapeHtml(desc)}</div>
            <div class="flex justify-between items-center mt-2">
              <span class="text-xl font-bold text-amber-700 product-price">${escapeHtml(price)}</span>
            </div>
          </div>
        `;
        // admin buttons container
        const adminWrap = document.createElement('div');
        adminWrap.className = 'admin-btns px-2 pb-2';
        const editBtn = document.createElement('button');
        editBtn.className = 'bg-blue-600 text-white px-2 py-1 rounded text-xs w-full';
        editBtn.textContent = '‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏';
        editBtn.onclick = () => showEditProductModal(prod.id);
        const delBtn = document.createElement('button');
        delBtn.className = 'bg-red-600 text-white px-2 py-1 rounded text-xs w-full mt-1';
        delBtn.textContent = 'üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏';
        delBtn.onclick = () => deleteProductById(prod.id);
        adminWrap.appendChild(editBtn);
        adminWrap.appendChild(delBtn);
        card.appendChild(adminWrap);
        container.appendChild(card);
      });
      // show admin buttons if admin
      document.querySelectorAll('.admin-btns').forEach(el => {
        el.style.display = isAdmin ? 'block' : 'none';
      });
      // add editable badges for static texts if admin
      toggleEditableBadges(isAdmin);
    }
    /* small helper to escape text */
    function escapeHtml(str) {
      if (!str) return '';
      return String(str).replace(/[&<>"'`=\/]/g, function(s) {
        return ({
          '&': '&amp;',
          '<': '<',
          '>': '>',
          '"': '&quot;',
          "'": '&#39;',
          '/': '&#x2F;',
          '`': '&#x60;',
          '=': '&#x3D;'
        })[s];
      });
    }
    /* ===== ADMIN: edit/delete for products ===== */
    function showEditProductModal(id) {
      const prod = products.find(p => p.id === id);
      if (!prod) return;
      // Create modal
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        font-family: 'Open Sans', sans-serif;
      `;
      modal.innerHTML = `
        <div style="background: white; padding: 24px; border-radius: 12px; width: 90%; max-width: 500px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
          <h3 style="color: #1e3a8a; margin-top: 0; margin-bottom: 16px; font-size: 1.25rem;">–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É</h3>
          <div style="display: grid; gap: 12px;">
            <input type="text" id="editNameUa" placeholder="–ù–∞–∑–≤–∞ (UA)" value="${escapeHtml(prod.name.ua || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
            <input type="text" id="editNameEn" placeholder="Name (EN)" value="${escapeHtml(prod.name.en || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
            <input type="number" id="editPrice" placeholder="–¶—ñ–Ω–∞ (‚Ç¥)" value="${escapeHtml(prod.price || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
            <textarea id="editDescUa" placeholder="–û–ø–∏—Å (UA)" rows="2" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">${escapeHtml(prod.desc.ua || '')}</textarea>
            <textarea id="editDescEn" placeholder="Description (EN)" rows="2" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">${escapeHtml(prod.desc.en || '')}</textarea>
            <input type="url" id="editImg" placeholder="URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è" value="${escapeHtml(prod.img || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
          </div>
          <div style="display: flex; gap: 8px; margin-top: 16px; justify-content: flex-end;">
            <button id="cancelBtn" style="background: #e5e7eb; color: #374151; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            <button id="saveBtn" style="background: #10b981; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      // Event listeners
      document.getElementById('cancelBtn').onclick = () => {
        document.body.removeChild(modal);
      };
      document.getElementById('saveBtn').onclick = () => {
        const nameUa = document.getElementById('editNameUa').value.trim();
        const nameEn = document.getElementById('editNameEn').value.trim();
        const price = document.getElementById('editPrice').value.trim();
        const descUa = document.getElementById('editDescUa').value.trim();
        const descEn = document.getElementById('editDescEn').value.trim();
        const img = document.getElementById('editImg').value.trim();
        if (!nameUa || !nameEn || !price || !descUa || !descEn || !img) {
          alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è');
          return;
        }
        prod.name = { ua: nameUa, en: nameEn };
        prod.desc = { ua: descUa, en: descEn };
        prod.price = price;
        prod.img = img;
        saveProducts();
        renderProducts();
        document.body.removeChild(modal);
        alert('‚úÖ –¢–æ–≤–∞—Ä –æ–Ω–æ–≤–ª–µ–Ω–æ');
      };
    }
    function deleteProductById(id) {
      const prod = products.find(p => p.id === id);
      if (!prod) return;
      const confirmModal = document.createElement('div');
      confirmModal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        font-family: 'Open Sans', sans-serif;
      `;
      confirmModal.innerHTML = `
        <div style="background: white; padding: 24px; border-radius: 12px; width: 90%; max-width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
          <h3 style="color: #dc2626; margin-top: 0; margin-bottom: 16px;">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è</h3>
          <p>–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ç–æ–≤–∞—Ä "${prod.name[currentLang] || prod.name.ua}"?</p>
          <div style="display: flex; gap: 8px; margin-top: 16px; justify-content: flex-end;">
            <button id="confirmCancel" style="background: #e5e7eb; color: #374151; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            <button id="confirmDelete" style="background: #ef4444; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">–í–∏–¥–∞–ª–∏—Ç–∏</button>
          </div>
        </div>
      `;
      document.body.appendChild(confirmModal);
      document.getElementById('confirmCancel').onclick = () => {
        document.body.removeChild(confirmModal);
      };
      document.getElementById('confirmDelete').onclick = () => {
        products = products.filter(p => p.id !== id);
        saveProducts();
        renderProducts();
        document.body.removeChild(confirmModal);
        alert('‚úÖ –¢–æ–≤–∞—Ä –≤–∏–¥–∞–ª–µ–Ω–æ');
      };
    }
    /* ===== ADD PRODUCT (admin form) ===== */
    let lastImageBase64 = null;
    function previewImage(event) {
      const file = event.target.files && event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        const imgEl = document.getElementById('imagePreview');
        imgEl.src = e.target.result;
        imgEl.style.display = 'block';
        lastImageBase64 = e.target.result;
      };
      reader.readAsDataURL(file);
    }
    function submitNewProduct(e) {
      e.preventDefault();
      const nameUa = document.getElementById('prodNameUa').value.trim();
      const nameEn = document.getElementById('prodNameEn').value.trim();
      const price = document.getElementById('prodPrice').value.trim();
      const descUa = document.getElementById('prodDescUa').value.trim();
      const descEn = document.getElementById('prodDescEn').value.trim();
      const img = lastImageBase64 || document.getElementById('prodImage').value || 'https://placehold.co/250x250/fbbf24/ffffff?text=No+image';
      if (!nameUa || !nameEn || !price || !descUa || !descEn) {
        alert('–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è');
        return;
      }
      const newProd = {
        id: genId(),
        name: { ua: nameUa, en: nameEn },
        desc: { ua: descUa, en: descEn },
        price: price,
        img: img
      };
      products.unshift(newProd);
      saveProducts();
      // reset form
      document.getElementById('prodNameUa').value = '';
      document.getElementById('prodNameEn').value = '';
      document.getElementById('prodPrice').value = '';
      document.getElementById('prodDescUa').value = '';
      document.getElementById('prodDescEn').value = '';
      document.getElementById('prodImage').value = '';
      const imgEl = document.getElementById('imagePreview');
      imgEl.style.display = 'none';
      lastImageBase64 = null;
      renderProducts();
      alert('‚úÖ –¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ');
    }
    /* ===== ADMIN: static text editing ===== */
    function toggleEditableBadges(show) {
      // create or remove badges next to elements with data-key for inline editing
      document.querySelectorAll('[data-key]').forEach(el => {
        // skip if element inside admin-panel or buttons
        if (el.closest('#addProductForm')) return;
        // already has badge?
        const existing = el.parentNode.querySelector('.editable-badge[data-for="'+el.getAttribute('data-key')+'"]');
        if (show) {
          if (!existing) {
            const badge = document.createElement('span');
            badge.className = 'editable-badge';
            badge.textContent = '‚úèÔ∏è';
            badge.title = '–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç';
            badge.dataset.for = el.getAttribute('data-key');
            badge.onclick = () => editStaticText(el.getAttribute('data-key'));
            // append after element
            el.insertAdjacentElement('afterend', badge);
          } else {
            existing.style.display = 'inline-block';
          }
        } else {
          if (existing) existing.style.display = 'none';
        }
      });
    }
    function editStaticText(key) {
      // Create modal for editing
      const current = staticTranslations[key] || {};
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        font-family: 'Open Sans', sans-serif;
      `;
      modal.innerHTML = `
        <div style="background: white; padding: 24px; border-radius: 12px; width: 90%; max-width: 500px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
          <h3 style="color: #1e3a8a; margin-top: 0; margin-bottom: 16px; font-size: 1.25rem;">–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É</h3>
          <p style="margin-bottom: 16px; color: #6b7280;">–ö–ª—é—á: <strong>${key}</strong></p>
          <div style="display: grid; gap: 12px;">
            <input type="text" id="editUa" placeholder="–ó–Ω–∞—á–µ–Ω–Ω—è (UA)" value="${escapeHtml(current.ua || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
            <input type="text" id="editEn" placeholder="Value (EN)" value="${escapeHtml(current.en || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
          </div>
          <div style="display: flex; gap: 8px; margin-top: 16px; justify-content: flex-end;">
            <button id="cancelBtn" style="background: #e5e7eb; color: #374151; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            <button id="saveBtn" style="background: #10b981; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      // Event listeners
      document.getElementById('cancelBtn').onclick = () => {
        document.body.removeChild(modal);
      };
      document.getElementById('saveBtn').onclick = () => {
        const ua = document.getElementById('editUa').value.trim();
        const en = document.getElementById('editEn').value.trim();
        if (!ua || !en) {
          alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –æ–±–∏–¥–≤–∞ –ø–æ–ª—è');
          return;
        }
        staticTranslations[key] = { ua: ua, en: en };
        translateStatic();
        document.body.removeChild(modal);
        alert('‚úÖ –¢–µ–∫—Å—Ç –æ–Ω–æ–≤–ª–µ–Ω–æ');
      };
    }
    /* ===== ADMIN LOGIN ===== */
    document.getElementById('adminBtn').addEventListener('click', () => {
      // Create login modal
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        font-family: 'Open Sans', sans-serif;
      `;
      modal.innerHTML = `
        <div style="background: white; padding: 24px; border-radius: 12px; width: 90%; max-width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
          <h3 style="color: #1e3a8a; margin-top: 0; margin-bottom: 16px;">–í—Ö—ñ–¥ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
          <p style="margin-bottom: 16px; color: #6b7280;">–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ</p>
          <input type="password" id="adminPassword" placeholder="–ü–∞—Ä–æ–ª—å" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px; margin-bottom: 16px;">
          <div style="display: flex; gap: 8px; justify-content: flex-end;">
            <button id="cancelBtn" style="background: #e5e7eb; color: #374151; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            <button id="loginBtn" style="background: #059669; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">–£–≤—ñ–π—Ç–∏</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      // Focus on password input
      setTimeout(() => document.getElementById('adminPassword').focus(), 100);
      // Event listeners
      document.getElementById('cancelBtn').onclick = () => {
        document.body.removeChild(modal);
      };
      document.getElementById('loginBtn').onclick = () => {
        const password = document.getElementById('adminPassword').value;
        if (password === '12345') {
          isAdmin = true;
          document.getElementById('addProductForm').style.display = 'block';
          document.querySelectorAll('.admin-btns').forEach(el => el.style.display = 'block');
          toggleEditableBadges(true);
          renderProducts();
          document.body.removeChild(modal);
          alert('‚úÖ –í–∏ —É–≤—ñ–π—à–ª–∏ —è–∫ –∞–¥–º—ñ–Ω.');
        } else {
          alert('‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å!');
        }
      };
      // Allow Enter key to submit
      document.getElementById('adminPassword').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          document.getElementById('loginBtn').click();
        }
      });
    });
    /* ===== LANGUAGE TOGGLE ===== */
    document.getElementById('langToggle').addEventListener('click', function() {
      this.classList.add('animating');
      setTimeout(()=> this.classList.remove('animating'), 400);
      currentLang = currentLang === 'ua' ? 'en' : 'ua';
      localStorage.setItem(STORAGE_KEYS.LANG, currentLang);
      translateStatic();
      renderProducts();
    });
    /* ===== MENU MOBILE ===== */
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    menuBtn?.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
    /* ===== SCROLL SMOOTH for anchor links ===== */
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        mobileMenu?.classList.add('hidden');
        const target = document.querySelector(this.getAttribute('href'));
        if (target) target.scrollIntoView({ behavior: 'smooth' });
      });
    });
    /* ===== Intersection animation ===== */
    const sections = document.querySelectorAll('.section');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.12 });
    sections.forEach(s => observer.observe(s));
    /* ===== Init on load ===== */
    window.addEventListener('load', () => {
      loadProducts();
      translateStatic();
      renderProducts();
      // wire preview input
      document.getElementById('prodImage').addEventListener('change', previewImage);
      // wire add product submit
      document.querySelector('#addProductForm form')?.addEventListener('submit', submitNewProduct);
      // small reveal
      setTimeout(()=> document.querySelectorAll('.section').forEach(sec=> sec.classList.add('visible')), 300);
    });
    /* ===== small helper to delete product by name (legacy functions compatibility) ===== */
    function deleteProduct(button) {
      // legacy handler used by static markup; find closest card and id from dataset or name
      const card = button.closest('.product-card');
      if (!card) return;
      const id = card.dataset.id;
      if (id) {
        deleteProductById(id);
        return;
      }
      // fallback: find by name text
      const name = card.querySelector('h3') ? card.querySelector('h3').textContent : null;
      if (!name) return;
      const idx = products.findIndex(p => (p.name.ua === name || p.name.en === name));
      if (idx !== -1) {
        if (confirm(`–í–∏–¥–∞–ª–∏—Ç–∏ "${name}"?`)) {
          products.splice(idx, 1);
          saveProducts();
          renderProducts();
        }
      }
    }
    /* ===== legacy editProduct(button) compatibility ===== */
    function editProduct(button) {
      // used by existing onclicks in static markup
      const card = button.closest('.product-card');
      if (!card) return;
      const id = card.dataset.id;
      if (id) {
        showEditProductModal(id);
        return;
      }
      const nameEl = card.querySelector('h3');
      const descEl = card.querySelector('.product-description');
      const priceEl = card.querySelector('.text-amber-700');
      const imgEl = card.querySelector('img');
      const currentName = nameEl ? nameEl.textContent : '';
      const currentDesc = descEl ? descEl.textContent : '';
      const currentPrice = priceEl ? priceEl.textContent.replace(' ‚Ç¥','') : '';
      const currentImg = imgEl ? imgEl.src : '';
      const newName = prompt('–ù–∞–∑–≤–∞ (UA):', currentName) || currentName;
      const newDesc = prompt('–û–ø–∏—Å (UA):', currentDesc) || currentDesc;
      const newPrice = prompt('–¶—ñ–Ω–∞ (‚Ç¥):', currentPrice) || currentPrice;
      const newImg = prompt('URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è:', currentImg) || currentImg;
      // try to update products array (by name)
      const idx = products.findIndex(p => p.name.ua === currentName || p.name.en === currentName);
      if (idx !== -1) {
        // set both languages same as quick edit
        products[idx].name.ua = newName;
        products[idx].name.en = newName;
        products[idx].desc.ua = newDesc;
        products[idx].desc.en = newDesc;
        products[idx].price = newPrice;
        products[idx].img = newImg;
        saveProducts();
        renderProducts();
        alert('‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ');
      } else {
        alert('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–Ω–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è.');
      }
    }
    /* ===== EOF ===== */
  </script>
</body>
</html>
