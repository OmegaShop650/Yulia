<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Юлія - Ручні вироби</title>
  <!-- Tailwind CSS через CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Шрифти -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* --- Збережено ретро-стиль + дрібні правки --- */
    body {
      font-family: 'Open Sans', sans-serif;
      background-image: url('https://www.transparenttextures.com/patterns/crissXcross.png'), 
                        url('https://www.transparenttextures.com/patterns/old-wall.png');
      background-color: #fdf6ec;
      background-attachment: fixed;
      background-blend-mode: overlay;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Playfair Display', serif;
    }
    .section {
      padding: 60px 0;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .btn {
      transition: all 0.3s ease;
    }
    .btn:hover { transform: scale(1.06); }
    .product-card {
      transition: all 0.4s ease;
      box-shadow: 0 4px 8px rgba(0,0,0,0.08);
      border: 1px solid #fbbf2430;
      background: linear-gradient(180deg,#fffaf1,#fff5e6);
    }
    .product-card:hover {
      transform: translateY(-6px) rotate(0.6deg);
      box-shadow: 0 12px 20px rgba(251, 191, 36, 0.18);
    }
    nav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: linear-gradient(to bottom, rgba(254, 245, 233, 0.98), rgba(254, 245, 233, 0.95));
      backdrop-filter: blur(4px);
      border-bottom: 4px solid rgba(245,158,11,0.08);
    }
    .admin-btns {
      display: none;
      margin-top: 8px;
      gap: 6px;
      flex-wrap: wrap;
    }
    .admin-btns button {
      font-size: 0.8rem;
      padding: 4px 8px;
      min-width: 70px;
    }
    @keyframes fadeRotate {
      0% { opacity: 1; transform: rotate(0deg); }
      50% { opacity: 0.5; transform: rotate(3deg); }
      100% { opacity: 1; transform: rotate(0deg); }
    }
    .lang-btn { transition: all 0.4s ease; }
    .lang-btn.animating { animation: fadeRotate 0.4s ease; }
    footer { margin-top: auto; }
    .admin-panel {
      background: linear-gradient(135deg, #fbbf24, #f97316);
      border: 2px dashed #c2410c;
      border-radius: 12px;
      padding: 16px;
      margin: 20px auto;
      max-width: 600px;
      box-shadow: 0 8px 15px rgba(249, 115, 22, 0.18);
    }
    .form-input { background: #fff9ed; border: 1px solid #f59e0b; border-radius: 6px; }
    .form-input:focus { outline: none; border-color: #d97706; box-shadow: 0 0 0 3px rgba(251,191,36,0.18); }
    .product-description { font-size: 0.875rem; color: #99703d; margin-top: 4px; }
    .img-preview { width: 80px; height: 80px; object-fit: cover; border: 2px solid #fbbf24; border-radius: 8px; margin: 4px 0; }
    .file-label { background: #fef3c7; border: 1px dashed #f59e0b; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 0.8rem; text-align: center; }
    /* edit badge */
    .editable-badge {
      display:inline-block;
      margin-left:8px;
      font-size:12px;
      padding:2px 6px;
      border-radius:6px;
      background:#fff7cc;
      border:1px solid #f1c453;
      color:#7a4b00;
      cursor:pointer;
      vertical-align:middle;
    }
    /* small responsive */
    @media (max-width: 640px) {
      .img-preview{width:64px;height:64px;}
    }
  </style>
</head>
<body class="bg-white text-gray-800" id="page">
  <!-- NAV -->
  <nav class="bg-amber-50 border-b-4 border-amber-200 shadow-lg">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-2">
          <div class="w-10 h-10 bg-amber-400 rounded-full flex items-center justify-center border-4 border-amber-100">
            <span class="text-amber-900 font-bold text-lg">Ш</span>
          </div>
          <span id="siteName" class="text-amber-900 font-bold text-xl">РетроШвейка</span>
        </div>
        <div class="flex space-x-8 items-center">
          <div class="hidden md:flex space-x-8">
            <a href="#home" class="nav-link text-amber-600 hover:text-amber-700 font-medium" data-key="nav.home">Головна</a>
            <a href="#products" class="nav-link text-amber-600 hover:text-amber-700 font-medium" data-key="nav.products">Товари</a>
            <a href="#about" class="nav-link text-amber-600 hover:text-amber-700 font-medium" data-key="nav.about">Про мене</a>
            <a href="#contact" class="nav-link text-amber-600 hover:text-amber-700 font-medium" data-key="nav.contact">Контакти</a>
          </div>
          <!-- Language toggle -->
          <button id="langToggle" class="bg-amber-200 hover:bg-amber-300 text-amber-800 font-semibold px-4 py-2 rounded-lg text-sm transition lang-btn">
            EN
          </button>
        </div>
        <button id="menuBtn" class="md:hidden text-amber-700 focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
      <div id="mobileMenu" class="md:hidden bg-amber-50 border-t-2 border-amber-200 hidden">
        <a href="#home" class="block px-4 py-3 text-amber-700" data-key="nav.home">Головна</a>
        <a href="#products" class="block px-4 py-3 text-amber-700" data-key="nav.products">Товари</a>
        <a href="#about" class="block px-4 py-3 text-amber-700" data-key="nav.about">Про мене</a>
        <a href="#contact" class="block px-4 py-3 text-amber-700" data-key="nav.contact">Контакти</a>
      </div>
    </div>
  </nav>
  <!-- HOME -->
  <section id="home" class="bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 flex items-center section">
    <div class="max-w-6xl mx-auto px-4">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="space-y-6">
          <h1 class="text-4xl lg:text-5xl font-bold text-amber-900 leading-tight">
            <span data-key="home.title.line1">Ретро швейні вироби</span>
            <span class="block text-amber-700" data-key="home.title.line2">з душею</span>
          </h1>
          <p class="text-lg text-amber-800 leading-relaxed" data-key="home.desc">
            У нашій колекції ви знайдете стильні, зручні та унікальні вироби, створені з любов’ю та увагою до деталей.
          </p>
          <div class="flex flex-wrap gap-3">
            <a href="#products" class="btn bg-amber-600 hover:bg-amber-700 text-white font-semibold px-6 py-3 rounded-lg shadow-lg inline-block text-sm" data-key="home.cta.view">
              Переглянути товари
            </a>
            <a href="#contact" class="btn border-2 border-amber-600 text-amber-700 hover:bg-amber-100 font-semibold px-6 py-3 rounded-lg inline-block text-sm" data-key="home.cta.contact">
              Контакти
            </a>
          </div>
          <div class="grid grid-cols-3 gap-4 pt-6">
            <div class="text-center">
              <div class="text-2xl font-bold text-amber-700">12</div>
              <div class="text-amber-600 text-xs" data-key="home.stats.years">Років досвіду</div>
            </div>
            <div class="text-center">
              <div class="text-2xl font-bold text-amber-700">100+</div>
              <div class="text-amber-600 text-xs" data-key="home.stats.clients">Щасливих клієнтів</div>
            </div>
            <div class="text-center">
              <div class="text-2xl font-bold text-amber-700">500+</div>
              <div class="text-amber-600 text-xs" data-key="home.stats.items">Виробів створено</div>
            </div>
          </div>
        </div>
        <div class="relative mt-8 lg:mt-0">
          <div class="bg-amber-200 p-4 rounded-xl shadow-md border-2 border-amber-300">
            <img id="heroImage"
              src="https://placehold.co/400x500/fbbf24/ffffff?text=%D0%AE%D0%BB%D1%96%D1%8F"
              alt="Ручні вироби"
              class="w-full h-auto rounded-lg shadow"
            />
          </div>
          <div class="absolute -top-3 -right-3 bg-white p-3 rounded-lg shadow-md border-2 border-amber-200">
            <div class="text-amber-700 font-bold text-sm" data-key="home.badge.handmade">Зроблено вручну</div>
            <div class="text-amber-600 text-xs" data-key="home.badge.quality">Якість та любов</div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- PRODUCTS -->
  <section id="products" class="bg-white section">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-4">
        <h2 class="text-3xl font-bold text-amber-900 mb-3" data-key="products.title">Наші вироби</h2>
        <p class="text-lg text-amber-700 max-w-2xl mx-auto" data-key="products.desc">
          Унікальні ретро вироби, створені з якісних матеріалів. Кожен виріб — це мініатюрне мистецтво.
        </p>
      </div>
      <!-- Admin add form (hidden until admin login) -->
      <div id="addProductForm" class="admin-panel" style="display: none;">
        <h3 class="font-bold text-amber-900 mb-4" data-key="admin.add.title">➕ Додати новий товар</h3>
        <form onsubmit="submitNewProduct(event)" class="space-y-3">
          <input type="text" id="prodNameUa" placeholder="Назва (UA)" required class="form-input w-full px-3 py-2">
          <input type="text" id="prodNameEn" placeholder="Name (EN)" required class="form-input w-full px-3 py-2">
          <input type="number" id="prodPrice" placeholder="Ціна (₴)" required class="form-input w-full px-3 py-2">
          <textarea id="prodDescUa" placeholder="Опис (UA)" rows="2" required class="form-input w-full px-3 py-2"></textarea>
          <textarea id="prodDescEn" placeholder="Description (EN)" rows="2" required class="form-input w-full px-3 py-2"></textarea>
          <div>
            <label class="file-label">📷 Вибрати фото
              <input type="file" id="prodImage" accept="image/*" onchange="previewImage(event)" class="hidden">
            </label>
            <br>
            <img id="imagePreview" class="img-preview mt-2" style="display: none;" alt="preview">
          </div>
          <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded" data-key="admin.add.button">Додати товар</button>
        </form>
      </div>
      <div id="productsContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
        <!-- products will be rendered here -->
      </div>
      <div class="text-center mt-6">
        <button id="viewCollectionBtn" class="bg-amber-100 hover:bg-amber-200 text-amber-800 border-2 border-amber-300 font-semibold px-6 py-2 rounded-lg transition-all duration-200 text-sm" data-key="products.viewAll">
          Переглянути всю колекцію
        </button>
      </div>
    </div>
  </section>
  <!-- ABOUT -->
  <section id="about" class="bg-gradient-to-br from-amber-50 to-orange-50 section">
    <div class="max-w-6xl mx-auto px-4">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <img
            src="https://placehold.co/500x600/f87171/ffffff?text=%D0%AF+%D0%AE%D0%BB%D1%96%D1%8F"
            alt="Майстриня"
            class="w-full h-auto rounded-2xl shadow-2xl"
          />
        </div>
        <div class="space-y-6">
          <h2 class="text-4xl font-bold text-amber-900" data-key="about.title">Про мене</h2>
          <p class="text-lg text-amber-800 leading-relaxed" data-key="about.p1">
            Мене звати Олена (Юлія), і я займаюся швейною справою вже 12 років. Моє захоплення ретро стилем почалося зі спадщини моєї бабусі — старовинної швейної машинки і колекції вишитих серветок.
          </p>
          <p class="text-lg text-amber-800 leading-relaxed" data-key="about.p2">
            Кожен виріб, який я створюю, — це унікальна річ, зроблена вручну з любов'ю до деталей. Я використовую якісні натуральні тканини, старовинні вишивки та класичні фасони, які ніколи не виходять з моди.
          </p>
          <p class="text-lg text-amber-800 leading-relaxed" data-key="about.p3">
            Моя мрія — повернути до життя красу ретро стилю і подарувати людям унікальні речі, які будуть радувати роками.
          </p>
          <div class="grid grid-cols-2 gap-6 pt-6">
            <div class="bg-white p-4 rounded-lg shadow-md">
              <div class="text-2xl font-bold text-amber-700">12</div>
              <div class="text-amber-600 text-sm" data-key="about.stats.years">Років досвіду</div>
            </div>
            <div class="bg-white p-4 rounded-lg shadow-md">
              <div class="text-2xl font-bold text-amber-700">100%</div>
              <div class="text-amber-600 text-sm" data-key="about.stats.handmade">Ручна робота</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- CONTACT -->
  <section id="contact" class="bg-white section">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="text-4xl font-bold text-amber-900 mb-4" data-key="contact.title">Контакти</h2>
        <p class="text-xl text-amber-700" data-key="contact.desc">
          Готові замовити виріб або дізнатися більше? Зв'яжіться зі мною!
        </p>
      </div>
      <div class="grid lg:grid-cols-2 gap-12 items-start">
        <div class="space-y-8">
          <div class="bg-amber-50 p-8 rounded-2xl shadow-lg">
            <h3 class="text-2xl font-bold text-amber-900 mb-6" data-key="contact.infoTitle">Контактна інформація</h3>
            <div class="space-y-4">
              <div class="flex items-center space-x-4">
                <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center">
                  <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.01 4.583c.143.05.26.14.33.26.07.12.1.26.09.4v8.44c0 .14-.04.27-.1.38-.06.11-.16.2-.28.26l-5.04 2.5c-.11.06-.24.09-.37.09-.13 0-.26-.03-.37-.09l-2.72-1.35-1.13 1.04c-.08.08-.18.13-.29.15-.11.02-.22.01-.32-.03l-3.14-1.4c-.1-.05-.18-.13-.23-.23-.05-.1-.07-.21-.06-.32l1.88-8.28c.02-.1.07-.19.14-.27.07-.08.16-.13.27-.15l9.46-1.53c.13-.02.26.02.37.1.11.08.18.2.21.34z"/>
                  </svg>
                </div>
                <div>
                  <div class="font-semibold text-amber-900" data-key="contact.telegram">Telegram</div>
                  <a id="telegramLink" href="https://t.me/Ennifer86" target="_blank" class="text-blue-600 hover:underline">@Ennifer86</a>
                </div>
              </div>
            </div>
          </div>
          <div class="bg-gradient-to-r from-amber-100 to-orange-100 p-6 rounded-xl">
            <h4 class="font-bold text-amber-900 mb-2" data-key="contact.hoursTitle">Графік роботи</h4>
            <div class="text-amber-800 space-y-1">
              <div data-key="contact.hours.weekdays">Понеділок - П'ятниця: 9:00 - 18:00</div>
              <div data-key="contact.hours.sat">Субота: 10:00 - 16:00</div>
              <div data-key="contact.hours.sun">Неділя: Вихідний</div>
            </div>
          </div>
        </div>
        <div class="flex justify-center">
          <img id="contactImage"
            src="https://placehold.co/400x500/f87171/ffffff?text=%D0%AE%D0%BB%D1%96%D1%8F"
            alt="Ретро швейка"
            class="rounded-xl shadow-lg max-w-full h-auto">
        </div>
      </div>
    </div>
  </section>
  <!-- FOOTER -->
  <footer class="bg-amber-900 text-amber-100 py-6">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center">
        <p id="footerText" class="text-amber-300 text-sm mb-2" data-key="footer.text">
          © 2024 РетроШвейка. Усі права захищені. Створено з любов'ю.
        </p>
        <button type="button" id="adminBtn" class="inline-block bg-transparent hover:bg-amber-500 text-amber-500 font-bold text-sm px-4 py-2 rounded-lg shadow transition max-w-xs mx-auto">
          🔐 Адмін
        </button>
      </div>
    </div>
  </footer>
  <!-- JAVASCRIPT -->
  <script>
    /* ===== STATE ===== */
    const STORAGE_KEYS = {
      PRODUCTS: 'rsv_products_v1',
      LANG: 'rsv_lang_v1',
    };
    let products = []; // will be objects { id, name: {ua,en}, desc:{ua,en}, price, img } 
    let isAdmin = false;
    let currentLang = localStorage.getItem(STORAGE_KEYS.LANG) || 'ua';
    /* ===== DEFAULTS (used if no saved products) ===== */
    const defaultProducts = [
      {
        id: genId(),
        name: { ua: 'Вишитий жилет', en: 'Embroidered Vest' },
        desc: { ua: 'Класичний вишитий жилет у стилі 50-х', en: 'Classic embroidered vest, 50s style' },
        price: '480',
        img: 'https://placehold.co/250x250/f87171/ffffff?text=%D0%92%D0%B8%D1%88%D0%B8%D1%82%D0%B8%D0%B9+%D0%B6%D0%B8%D0%BB%D0%B5%D1%82'
      },
      {
        id: genId(),
        name: { ua: 'Лляна сукня', en: 'Linen Dress' },
        desc: { ua: 'Елегантна сукня з натуральної лляної тканини', en: 'Elegant dress made from natural linen' },
        price: '620',
        img: 'https://placehold.co/250x250/34d399/ffffff?text=%D0%9B%D0%BB%D1%8F%D0%BD%D0%B0+%D1%81%D1%83%D0%BA%D0%BD%D1%8F'
      }
    ];
    /* ===== TRANSLATIONS for static keys (fallbacks) ===== */
    const staticTranslations = {
      'nav.home': { ua: 'Головна', en: 'Home' },
      'nav.products': { ua: 'Товари', en: 'Products' },
      'nav.about': { ua: 'Про мене', en: 'About' },
      'nav.contact': { ua: 'Контакти', en: 'Contact' },
      'home.title.line1': { ua: 'Ретро швейні вироби', en: 'Retro sewing crafts' },
      'home.title.line2': { ua: 'з душею', en: 'with soul' },
      'home.desc': { ua: 'У нашій колекції ви знайдете стильні, зручні та унікальні вироби, створені з любов’ю та увагою до деталей.', en: 'In our collection you will find stylish, comfortable and unique items, created with love and attention to detail.' },
      'home.cta.view': { ua: 'Переглянути товари', en: 'View products' },
      'home.cta.contact': { ua: 'Контакти', en: 'Contact' },
      'home.badge.handmade': { ua: 'Зроблено вручну', en: 'Handmade' },
      'home.badge.quality': { ua: 'Якість та любов', en: 'Quality & care' },
      'home.stats.years': { ua: "Років досвіду", en: "Years of experience" },
      'home.stats.clients': { ua: "Щасливих клієнтів", en: "Happy customers" },
      'home.stats.items': { ua: "Виробів створено", en: "Items crafted" },
      'products.title': { ua: 'Наші вироби', en: 'Our products' },
      'products.desc': { ua: 'Унікальні ретро вироби, створені з якісних матеріалів. Кожен виріб — це мініатюрне мистецтво.', en: 'Unique retro items made from quality materials. Each piece is miniature art.' },
      'products.viewAll': { ua: 'Переглянути всю колекцію', en: 'View full collection' },
      'admin.add.title': { ua: '➕ Додати новий товар', en: '➕ Add new product' },
      'admin.add.button': { ua: 'Додати товар', en: 'Add product' },
      'about.title': { ua: 'Про мене', en: 'About me' },
      'about.p1': { ua: 'Мене звати Олена (Юлія), і я займаюся швейною справою вже 12 років. Моє захоплення ретро стилем почалося зі спадщини моєї бабусі — старовинної швейної машинки і колекції вишитих серветок.', en: 'My name is Olena (Yulia), I have been sewing for 12 years. My passion for retro style began with my grandmother’s old sewing machine and embroidered linens.' },
      'about.p2': { ua: 'Кожен виріб, який я створюю, — це унікальна річ, зроблена вручну з любов\'ю до деталей. Я використовую якісні натуральні тканини, старовинні вишивки та класичні фасони, які ніколи не виходять з моди.', en: 'Every item I create is unique, handmade with love and attention to detail. I use quality natural fabrics, vintage embroidery and classic cuts.' },
      'about.p3': { ua: 'Моя мрія — повернути до життя красу ретро стилю і подарувати людям унікальні речі, які будуть радувати роками.', en: 'My dream is to bring retro beauty back to life and give people unique things that will delight for years.' },
      'about.stats.years': { ua: 'Років досвіду', en: 'Years experience' },
      'about.stats.handmade': { ua: 'Ручна робота', en: 'Handmade' },
      'contact.title': { ua: 'Контакти', en: 'Contact' },
      'contact.desc': { ua: 'Готові замовити виріб або дізнатися більше? Зв\'яжіться зі мною!', en: 'Ready to order or want to know more? Contact me!' },
      'contact.infoTitle': { ua: 'Контактна інформація', en: 'Contact info' },
      'contact.telegram': { ua: 'Telegram', en: 'Telegram' },
      'contact.hoursTitle': { ua: 'Графік роботи', en: 'Working hours' },
      'contact.hours.weekdays': { ua: "Понеділок - П'ятниця: 9:00 - 18:00", en: 'Mon - Fri: 9:00 - 18:00' },
      'contact.hours.sat': { ua: 'Субота: 10:00 - 16:00', en: 'Saturday: 10:00 - 16:00' },
      'contact.hours.sun': { ua: 'Неділя: Вихідний', en: 'Sunday: Closed' },
      'footer.text': { ua: '© 2024 Юлія. Усі права захищені. Створено з любов\'ю.', en: '© 2024 Yulia. All rights reserved. Made with love.' }
    };
    /* ===== UTIL ===== */
    function genId() {
      return 'p_' + Math.random().toString(36).slice(2,9);
    }
    function saveProducts() {
      localStorage.setItem(STORAGE_KEYS.PRODUCTS, JSON.stringify(products));
    }
    function loadProducts() {
      const raw = localStorage.getItem(STORAGE_KEYS.PRODUCTS);
      if (raw) {
        try {
          products = JSON.parse(raw);
        } catch (e) {
          products = defaultProducts;
        }
      } else {
        products = defaultProducts.map(p => ({ ...p })); // copy
      }
    }
    /* ===== RENDER STATIC TEXTS ===== */
    function translateStatic() {
      // Elements with data-key attribute will be replaced
      document.querySelectorAll('[data-key]').forEach(el => {
        const key = el.getAttribute('data-key');
        const dict = staticTranslations[key];
        if (dict) {
          el.textContent = dict[currentLang] || el.textContent;
        }
      });
      // site name separately
      document.getElementById('siteName').textContent = currentLang === 'ua' ? 'Юлія' : 'Yulia';
      // set langToggle text
      document.getElementById('langToggle').textContent = currentLang === 'ua' ? 'EN' : 'UA';
    }
    /* ===== PRODUCTS RENDER ===== */
    function renderProducts() {
      const container = document.getElementById('productsContainer');
      container.innerHTML = '';
      products.forEach(prod => {
        const card = document.createElement('div');
        card.className = 'product-card bg-amber-50 rounded-lg overflow-hidden shadow hover:shadow-md transition-all';
        card.dataset.id = prod.id;
        const imgHtml = `<img src="${prod.img}" alt="${(prod.name && (prod.name.ua || prod.name.en)) || ''}" class="w-full h-40 object-cover">`;
        const name = prod.name[currentLang] || prod.name.ua || prod.name.en || '';
        const desc = prod.desc ? (prod.desc[currentLang] || prod.desc.ua || prod.desc.en || '') : '';
        const price = prod.price ? `${prod.price} ₴` : '';
        card.innerHTML = `
          ${imgHtml}
          <div class="p-3">
            <h3 class="text-lg font-bold text-amber-900 product-name">${escapeHtml(name)}</h3>
            <div class="product-description">${escapeHtml(desc)}</div>
            <div class="flex justify-between items-center mt-2">
              <span class="text-xl font-bold text-amber-700 product-price">${escapeHtml(price)}</span>
            </div>
          </div>
        `;
        // admin buttons container
        const adminWrap = document.createElement('div');
        adminWrap.className = 'admin-btns px-2 pb-2';
        const editBtn = document.createElement('button');
        editBtn.className = 'bg-blue-600 text-white px-2 py-1 rounded text-xs w-full';
        editBtn.textContent = '✏️ Редагувати';
        editBtn.onclick = () => showEditProductModal(prod.id);
        const delBtn = document.createElement('button');
        delBtn.className = 'bg-red-600 text-white px-2 py-1 rounded text-xs w-full mt-1';
        delBtn.textContent = '🗑️ Видалити';
        delBtn.onclick = () => deleteProductById(prod.id);
        adminWrap.appendChild(editBtn);
        adminWrap.appendChild(delBtn);
        card.appendChild(adminWrap);
        container.appendChild(card);
      });
      // show admin buttons if admin
      document.querySelectorAll('.admin-btns').forEach(el => {
        el.style.display = isAdmin ? 'block' : 'none';
      });
      // add editable badges for static texts if admin
      toggleEditableBadges(isAdmin);
    }
    /* small helper to escape text */
    function escapeHtml(str) {
      if (!str) return '';
      return String(str).replace(/[&<>"'`=\/]/g, function(s) {
        return ({
          '&': '&amp;',
          '<': '<',
          '>': '>',
          '"': '&quot;',
          "'": '&#39;',
          '/': '&#x2F;',
          '`': '&#x60;',
          '=': '&#x3D;'
        })[s];
      });
    }
    /* ===== ADMIN: edit/delete for products ===== */
    function showEditProductModal(id) {
      const prod = products.find(p => p.id === id);
      if (!prod) return;
      // Create modal
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        font-family: 'Open Sans', sans-serif;
      `;
      modal.innerHTML = `
        <div style="background: white; padding: 24px; border-radius: 12px; width: 90%; max-width: 500px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
          <h3 style="color: #1e3a8a; margin-top: 0; margin-bottom: 16px; font-size: 1.25rem;">Редагування товару</h3>
          <div style="display: grid; gap: 12px;">
            <input type="text" id="editNameUa" placeholder="Назва (UA)" value="${escapeHtml(prod.name.ua || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
            <input type="text" id="editNameEn" placeholder="Name (EN)" value="${escapeHtml(prod.name.en || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
            <input type="number" id="editPrice" placeholder="Ціна (₴)" value="${escapeHtml(prod.price || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
            <textarea id="editDescUa" placeholder="Опис (UA)" rows="2" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">${escapeHtml(prod.desc.ua || '')}</textarea>
            <textarea id="editDescEn" placeholder="Description (EN)" rows="2" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">${escapeHtml(prod.desc.en || '')}</textarea>
            <input type="url" id="editImg" placeholder="URL зображення" value="${escapeHtml(prod.img || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
          </div>
          <div style="display: flex; gap: 8px; margin-top: 16px; justify-content: flex-end;">
            <button id="cancelBtn" style="background: #e5e7eb; color: #374151; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Скасувати</button>
            <button id="saveBtn" style="background: #10b981; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Зберегти</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      // Event listeners
      document.getElementById('cancelBtn').onclick = () => {
        document.body.removeChild(modal);
      };
      document.getElementById('saveBtn').onclick = () => {
        const nameUa = document.getElementById('editNameUa').value.trim();
        const nameEn = document.getElementById('editNameEn').value.trim();
        const price = document.getElementById('editPrice').value.trim();
        const descUa = document.getElementById('editDescUa').value.trim();
        const descEn = document.getElementById('editDescEn').value.trim();
        const img = document.getElementById('editImg').value.trim();
        if (!nameUa || !nameEn || !price || !descUa || !descEn || !img) {
          alert('Будь ласка, заповніть усі поля');
          return;
        }
        prod.name = { ua: nameUa, en: nameEn };
        prod.desc = { ua: descUa, en: descEn };
        prod.price = price;
        prod.img = img;
        saveProducts();
        renderProducts();
        document.body.removeChild(modal);
        alert('✅ Товар оновлено');
      };
    }
    function deleteProductById(id) {
      const prod = products.find(p => p.id === id);
      if (!prod) return;
      const confirmModal = document.createElement('div');
      confirmModal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        font-family: 'Open Sans', sans-serif;
      `;
      confirmModal.innerHTML = `
        <div style="background: white; padding: 24px; border-radius: 12px; width: 90%; max-width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
          <h3 style="color: #dc2626; margin-top: 0; margin-bottom: 16px;">Підтвердження видалення</h3>
          <p>Ви впевнені, що хочете видалити товар "${prod.name[currentLang] || prod.name.ua}"?</p>
          <div style="display: flex; gap: 8px; margin-top: 16px; justify-content: flex-end;">
            <button id="confirmCancel" style="background: #e5e7eb; color: #374151; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Скасувати</button>
            <button id="confirmDelete" style="background: #ef4444; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Видалити</button>
          </div>
        </div>
      `;
      document.body.appendChild(confirmModal);
      document.getElementById('confirmCancel').onclick = () => {
        document.body.removeChild(confirmModal);
      };
      document.getElementById('confirmDelete').onclick = () => {
        products = products.filter(p => p.id !== id);
        saveProducts();
        renderProducts();
        document.body.removeChild(confirmModal);
        alert('✅ Товар видалено');
      };
    }
    /* ===== ADD PRODUCT (admin form) ===== */
    let lastImageBase64 = null;
    function previewImage(event) {
      const file = event.target.files && event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        const imgEl = document.getElementById('imagePreview');
        imgEl.src = e.target.result;
        imgEl.style.display = 'block';
        lastImageBase64 = e.target.result;
      };
      reader.readAsDataURL(file);
    }
    function submitNewProduct(e) {
      e.preventDefault();
      const nameUa = document.getElementById('prodNameUa').value.trim();
      const nameEn = document.getElementById('prodNameEn').value.trim();
      const price = document.getElementById('prodPrice').value.trim();
      const descUa = document.getElementById('prodDescUa').value.trim();
      const descEn = document.getElementById('prodDescEn').value.trim();
      const img = lastImageBase64 || document.getElementById('prodImage').value || 'https://placehold.co/250x250/fbbf24/ffffff?text=No+image';
      if (!nameUa || !nameEn || !price || !descUa || !descEn) {
        alert('Заповніть всі поля');
        return;
      }
      const newProd = {
        id: genId(),
        name: { ua: nameUa, en: nameEn },
        desc: { ua: descUa, en: descEn },
        price: price,
        img: img
      };
      products.unshift(newProd);
      saveProducts();
      // reset form
      document.getElementById('prodNameUa').value = '';
      document.getElementById('prodNameEn').value = '';
      document.getElementById('prodPrice').value = '';
      document.getElementById('prodDescUa').value = '';
      document.getElementById('prodDescEn').value = '';
      document.getElementById('prodImage').value = '';
      const imgEl = document.getElementById('imagePreview');
      imgEl.style.display = 'none';
      lastImageBase64 = null;
      renderProducts();
      alert('✅ Товар додано');
    }
    /* ===== ADMIN: static text editing ===== */
    function toggleEditableBadges(show) {
      // create or remove badges next to elements with data-key for inline editing
      document.querySelectorAll('[data-key]').forEach(el => {
        // skip if element inside admin-panel or buttons
        if (el.closest('#addProductForm')) return;
        // already has badge?
        const existing = el.parentNode.querySelector('.editable-badge[data-for="'+el.getAttribute('data-key')+'"]');
        if (show) {
          if (!existing) {
            const badge = document.createElement('span');
            badge.className = 'editable-badge';
            badge.textContent = '✏️';
            badge.title = 'Редагувати текст';
            badge.dataset.for = el.getAttribute('data-key');
            badge.onclick = () => editStaticText(el.getAttribute('data-key'));
            // append after element
            el.insertAdjacentElement('afterend', badge);
          } else {
            existing.style.display = 'inline-block';
          }
        } else {
          if (existing) existing.style.display = 'none';
        }
      });
    }
    function editStaticText(key) {
      // Create modal for editing
      const current = staticTranslations[key] || {};
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        font-family: 'Open Sans', sans-serif;
      `;
      modal.innerHTML = `
        <div style="background: white; padding: 24px; border-radius: 12px; width: 90%; max-width: 500px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
          <h3 style="color: #1e3a8a; margin-top: 0; margin-bottom: 16px; font-size: 1.25rem;">Редагування тексту</h3>
          <p style="margin-bottom: 16px; color: #6b7280;">Ключ: <strong>${key}</strong></p>
          <div style="display: grid; gap: 12px;">
            <input type="text" id="editUa" placeholder="Значення (UA)" value="${escapeHtml(current.ua || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
            <input type="text" id="editEn" placeholder="Value (EN)" value="${escapeHtml(current.en || '')}" style="padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
          </div>
          <div style="display: flex; gap: 8px; margin-top: 16px; justify-content: flex-end;">
            <button id="cancelBtn" style="background: #e5e7eb; color: #374151; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Скасувати</button>
            <button id="saveBtn" style="background: #10b981; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Зберегти</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      // Event listeners
      document.getElementById('cancelBtn').onclick = () => {
        document.body.removeChild(modal);
      };
      document.getElementById('saveBtn').onclick = () => {
        const ua = document.getElementById('editUa').value.trim();
        const en = document.getElementById('editEn').value.trim();
        if (!ua || !en) {
          alert('Будь ласка, заповніть обидва поля');
          return;
        }
        staticTranslations[key] = { ua: ua, en: en };
        translateStatic();
        document.body.removeChild(modal);
        alert('✅ Текст оновлено');
      };
    }
    /* ===== ADMIN LOGIN ===== */
    document.getElementById('adminBtn').addEventListener('click', () => {
      // Create login modal
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        font-family: 'Open Sans', sans-serif;
      `;
      modal.innerHTML = `
        <div style="background: white; padding: 24px; border-radius: 12px; width: 90%; max-width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
          <h3 style="color: #1e3a8a; margin-top: 0; margin-bottom: 16px;">Вхід адміністратора</h3>
          <p style="margin-bottom: 16px; color: #6b7280;">Введіть пароль для доступу до адмін-панелі</p>
          <input type="password" id="adminPassword" placeholder="Пароль" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px; margin-bottom: 16px;">
          <div style="display: flex; gap: 8px; justify-content: flex-end;">
            <button id="cancelBtn" style="background: #e5e7eb; color: #374151; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Скасувати</button>
            <button id="loginBtn" style="background: #059669; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Увійти</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      // Focus on password input
      setTimeout(() => document.getElementById('adminPassword').focus(), 100);
      // Event listeners
      document.getElementById('cancelBtn').onclick = () => {
        document.body.removeChild(modal);
      };
      document.getElementById('loginBtn').onclick = () => {
        const password = document.getElementById('adminPassword').value;
        if (password === '12345') {
          isAdmin = true;
          document.getElementById('addProductForm').style.display = 'block';
          document.querySelectorAll('.admin-btns').forEach(el => el.style.display = 'block');
          toggleEditableBadges(true);
          renderProducts();
          document.body.removeChild(modal);
          alert('✅ Ви увійшли як адмін.');
        } else {
          alert('❌ Неправильний пароль!');
        }
      };
      // Allow Enter key to submit
      document.getElementById('adminPassword').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          document.getElementById('loginBtn').click();
        }
      });
    });
    /* ===== LANGUAGE TOGGLE ===== */
    document.getElementById('langToggle').addEventListener('click', function() {
      this.classList.add('animating');
      setTimeout(()=> this.classList.remove('animating'), 400);
      currentLang = currentLang === 'ua' ? 'en' : 'ua';
      localStorage.setItem(STORAGE_KEYS.LANG, currentLang);
      translateStatic();
      renderProducts();
    });
    /* ===== MENU MOBILE ===== */
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    menuBtn?.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
    /* ===== SCROLL SMOOTH for anchor links ===== */
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        mobileMenu?.classList.add('hidden');
        const target = document.querySelector(this.getAttribute('href'));
        if (target) target.scrollIntoView({ behavior: 'smooth' });
      });
    });
    /* ===== Intersection animation ===== */
    const sections = document.querySelectorAll('.section');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.12 });
    sections.forEach(s => observer.observe(s));
    /* ===== Init on load ===== */
    window.addEventListener('load', () => {
      loadProducts();
      translateStatic();
      renderProducts();
      // wire preview input
      document.getElementById('prodImage').addEventListener('change', previewImage);
      // wire add product submit
      document.querySelector('#addProductForm form')?.addEventListener('submit', submitNewProduct);
      // small reveal
      setTimeout(()=> document.querySelectorAll('.section').forEach(sec=> sec.classList.add('visible')), 300);
    });
    /* ===== small helper to delete product by name (legacy functions compatibility) ===== */
    function deleteProduct(button) {
      // legacy handler used by static markup; find closest card and id from dataset or name
      const card = button.closest('.product-card');
      if (!card) return;
      const id = card.dataset.id;
      if (id) {
        deleteProductById(id);
        return;
      }
      // fallback: find by name text
      const name = card.querySelector('h3') ? card.querySelector('h3').textContent : null;
      if (!name) return;
      const idx = products.findIndex(p => (p.name.ua === name || p.name.en === name));
      if (idx !== -1) {
        if (confirm(`Видалити "${name}"?`)) {
          products.splice(idx, 1);
          saveProducts();
          renderProducts();
        }
      }
    }
    /* ===== legacy editProduct(button) compatibility ===== */
    function editProduct(button) {
      // used by existing onclicks in static markup
      const card = button.closest('.product-card');
      if (!card) return;
      const id = card.dataset.id;
      if (id) {
        showEditProductModal(id);
        return;
      }
      const nameEl = card.querySelector('h3');
      const descEl = card.querySelector('.product-description');
      const priceEl = card.querySelector('.text-amber-700');
      const imgEl = card.querySelector('img');
      const currentName = nameEl ? nameEl.textContent : '';
      const currentDesc = descEl ? descEl.textContent : '';
      const currentPrice = priceEl ? priceEl.textContent.replace(' ₴','') : '';
      const currentImg = imgEl ? imgEl.src : '';
      const newName = prompt('Назва (UA):', currentName) || currentName;
      const newDesc = prompt('Опис (UA):', currentDesc) || currentDesc;
      const newPrice = prompt('Ціна (₴):', currentPrice) || currentPrice;
      const newImg = prompt('URL зображення:', currentImg) || currentImg;
      // try to update products array (by name)
      const idx = products.findIndex(p => p.name.ua === currentName || p.name.en === currentName);
      if (idx !== -1) {
        // set both languages same as quick edit
        products[idx].name.ua = newName;
        products[idx].name.en = newName;
        products[idx].desc.ua = newDesc;
        products[idx].desc.en = newDesc;
        products[idx].price = newPrice;
        products[idx].img = newImg;
        saveProducts();
        renderProducts();
        alert('✅ Оновлено');
      } else {
        alert('Не вдалося знайти товар для редагування.');
      }
    }
    /* ===== EOF ===== */
  </script>
</body>
</html>
